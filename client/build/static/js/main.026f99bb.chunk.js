(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=(a(38),a(39),a(8)),u=a(2),o=Object(n.createContext)(),i=(a(40),function(){var e=Object(n.useContext)(o),t=e.logout,a=e.clearError,c=e.userAuth,l=e.user,u=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,"Hello, ",l&&l.name," "),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){t(),a()}},r.a.createElement("span",{className:"sm-hide"},"Logout"),r.a.createElement("i",{className:"fas fa-sign-out-alt"})))),i=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register"},"Register")),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")));return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fas fa-glass-cheers"}),"Guest IV"),r.a.createElement("p",null,"Made with ",r.a.createElement("i",{className:"fas fa-heart"}),"by kenneth")),r.a.createElement("ul",null,c?u:i))}),m=a(11),p=a(1),E=a(9),d=Object(n.createContext)(),f=(a(46),function(){var e=Object(n.useContext)(d),t=e.addGuest,a=e.editAble,c=e.updateGuest,l=e.clearEdit;Object(n.useEffect)((function(){i(null!==a?a:{name:"",phone:"",specialty:"Backend Developer"})}),[a]);var s=Object(n.useState)({name:"",phone:"",specialty:"Backend Developer"}),u=Object(E.a)(s,2),o=u[0],i=u[1],f=o.name,h=o.phone,v=o.specialty,g=function(e){i(Object(p.a)({},o,Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"invite-section"},r.a.createElement("h1",null,null!==a?"Edit Guest":"Invite Someone"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null!==a?(c(o),l()):(t(o),i({name:"",phone:"",specialty:"Backend Developer"}))}},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:f,onChange:g}),r.a.createElement("input",{type:"text",placeholder:"Phone",name:"phone",value:h,onChange:g}),r.a.createElement("p",{className:"options-label"},"Specialty"),r.a.createElement("div",{className:"options"},r.a.createElement("label",{className:"container"},"Backend Developer",r.a.createElement("input",{type:"radio",name:"specialty",value:"Backend Developer",checked:"Backend Developer"===v,onChange:g}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"container"},"Frontend Developer",r.a.createElement("input",{type:"radio",name:"specialty",value:"Frontend Developer",checked:"Frontend Developer"===v,onChange:g}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"container"},"UX Designer",r.a.createElement("input",{type:"radio",name:"specialty",value:"UX Designer",checked:"UX Designer"===v,onChange:g}),r.a.createElement("span",{className:"checkmark"}))),r.a.createElement("input",{type:"submit",value:null!==a?"Update Guest":"Add Guest",className:"btn"}),null!==a?r.a.createElement("input",{onClick:l,value:"Cancel",type:"button",className:" btn clear"}):null))}),h=(a(47),function(){var e=Object(n.useContext)(d).guests,t=e.length,a=e.filter((function(e){return e.isconfirmed})),c=a.length,l=function(t){return e.filter((function(e){return e.specialty===t})).length},s=function(e){return a.filter((function(t){return t.specialty===e})).length};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Guest"),r.a.createElement("th",null,"Invited"),r.a.createElement("th",null,"Attending")),r.a.createElement("tr",null,r.a.createElement("th",null,"Backend Developer"),r.a.createElement("td",null,l("Backend Developer")),r.a.createElement("td",null,s("Backend Developer"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Frontend Developer"),r.a.createElement("td",null,l("Frontend Developer")),r.a.createElement("td",null,s("Frontend Developer"))),r.a.createElement("tr",null,r.a.createElement("th",null,"UX Designer"),r.a.createElement("td",null,l("UX Designer")),r.a.createElement("td",null,s("UX Designer"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",null,t),r.a.createElement("td",null,c)))))}),v=(a(48),function(){var e=Object(n.useContext)(d).toggleFilter;return r.a.createElement("div",{className:"toggle"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:function(){return e()}}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("p",{className:"lead"},"Show attending only!"))}),g=(a(49),function(){var e=Object(n.useContext)(d),t=e.searchGuest,a=e.clearSearch,c=Object(n.useRef)("");return r.a.createElement("div",null,r.a.createElement("input",{ref:c,type:"text",onChange:function(e){""!==c.current.value?t(e.target.value):a()},className:"search",placeholder:"Search Guest by name..."}),r.a.createElement("i",{className:"fas fa-search search-icon"}))}),b=(a(50),function(e){var t=e.guest,a=Object(n.useContext)(d),c=a.removeGuest,l=a.updateGuest,s=a.editGuest,u=t._id,o=t.name,i=t.phone,m=t.specialty,E=t.isconfirmed;return r.a.createElement("div",{className:"guest-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("div",null,r.a.createElement("label",{className:"".concat(E&&"confirm")},"Confirmed",r.a.createElement("i",{className:"fas fa-check-square ".concat(E&&"confirm")},r.a.createElement("input",{type:"checkbox",onChange:function(){l(Object(p.a)({},t,{isconfirmed:!E}))}})))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return s(t)}},r.a.createElement("i",{className:"fas fa-user-edit"})),r.a.createElement("button",{onClick:function(){c(u)}},r.a.createElement("i",{className:"fas fa-trash-alt remove"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",null,o),r.a.createElement("span",{className:"badge"+("Frontend Developer"===m?"red":"Backend Developer"===m?"green":"seaGreen")},m),r.a.createElement("div",{className:"contact"},r.a.createElement("i",{className:"fas fa-phone-alt"}),r.a.createElement("p",null,i))))}),y=(a(51),function(){var e=Object(n.useContext)(d),t=e.guests,a=e.filterGuest,c=e.search,l=e.getGuests;return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("div",{className:"guests"},null!==c?c.map((function(e){return r.a.createElement(b,{key:e._id,guest:e})})):t.filter((function(e){return!a||e.isconfirmed})).map((function(e){return r.a.createElement(b,{key:e._id,guest:e})})))}),O=function(){var e=Object(n.useContext)(o).getUser;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"filter"},r.a.createElement(v,null),r.a.createElement(g,null)),r.a.createElement(f,null),r.a.createElement(h,null)),r.a.createElement(y,null))},S=function(e){var t=Object(n.useContext)(o),a=t.registerUser,c=t.userAuth,l=t.errors,u=t.setError,i=t.clearError;Object(n.useEffect)((function(){c&&e.history.push("/")}),[c,e.history.push]);var d=Object(n.useState)({name:"",email:"",password:"",password2:""}),f=Object(E.a)(d,2),h=f[0],v=f[1],g=h.name,b=h.email,y=h.password,O=h.password2,S=function(e){v(Object(p.a)({},h,Object(m.a)({},e.target.name,e.target.value))),i()};return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y!==O?u({msg:"Passwords Don't Match"}):(a({name:g,email:b,password:y}),i())}},r.a.createElement("input",{type:"text",name:"name",placeholder:"name",value:g,onChange:S}),r.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:b,onChange:S}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:y,onChange:S}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm Password",value:O,onChange:S}),r.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&r.a.createElement("button",{className:"danger"},l.msg?l.msg:l.error[0].msg,r.a.createElement("span",{onClick:function(){return i()}},"X")),r.a.createElement("p",null,"Already have an account ? "," "," ",r.a.createElement(s.b,{to:"/login"},"Login"))))},j=function(e){var t=Object(n.useContext)(o),a=t.loginUser,c=t.userAuth,l=t.errors,u=t.clearError;Object(n.useEffect)((function(){c&&e.history.push("/")}),[c,e.history.push]);var i=Object(n.useState)({email:"",password:""}),d=Object(E.a)(i,2),f=d[0],h=d[1],v=f.email,g=f.password,b=function(e){h(Object(p.a)({},f,Object(m.a)({},e.target.name,e.target.value))),u()};return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({email:v,password:g}),u()}},r.a.createElement("input",{type:"email",name:"email",placeholder:"email",onChange:b,value:v}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:b,value:g}),r.a.createElement("input",{type:"submit",value:"Login",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&r.a.createElement("button",{className:"danger"},l.msg?l.msg:l.error[0].msg,r.a.createElement("span",{onClick:function(){return u()}},"X")),r.a.createElement("p",null,"Don't have an account ? "," "," ",r.a.createElement(s.b,{to:"/register"},"Sign Up"))))},R=a(3),G=a.n(R),k=a(10),C=a(31),N=function(e,t){var a=t.type,n=t.payload;switch(a){case"GET_GUESTS":return Object(p.a)({},e,{guests:n});case"ADD_GUEST":return Object(p.a)({},e,{guests:[].concat(Object(C.a)(e.guests),[n])});case"REMOVE_GUEST":return Object(p.a)({},e,{guests:e.guests.filter((function(e){return e._id!==n}))});case"UPDATE_GUEST":return Object(p.a)({},e,{guests:e.guests.map((function(e){return e._id===n._id?n:e}))});case"EDIT_GUEST":return Object(p.a)({},e,{editAble:n});case"CLEAR_EDIT":return Object(p.a)({},e,{editAble:null});case"SEARCH_GUEST":var r=new RegExp("".concat(n),"gi");return Object(p.a)({},e,{search:e.guests.filter((function(e){return e.name.match(r)}))});case"GUESTS_ERROR":return Object(p.a)({},e,{guests:[],errors:n});case"CLEAR_SEARCH":return Object(p.a)({},e,{search:null});case"TOGGLE_FILTER":return Object(p.a)({},e,{filterGuest:!e.filterGuest});default:return e}},_=a(6),w=a.n(_),T=function(e){var t=Object(n.useReducer)(N,{filterGuest:!1,search:null,editAble:null,guests:[],errors:null}),a=Object(E.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(k.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/guests");case 3:t=e.sent,l({type:"GET_GUESTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},e.prev=1,e.next=4,w.a.post("/guests",t,a);case 4:n=e.sent,l({type:"ADD_GUEST",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(k.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.delete("/guests/".concat(t));case 3:l({type:"REMOVE_GUEST",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,w.a.put("/guests/".concat(t._id),t,a);case 4:n=e.sent,l({type:"UPDATE_GUEST",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(d.Provider,{value:{guests:c.guests,filterGuest:c.filterGuest,search:c.search,editAble:c.editAble,getGuests:s,addGuest:u,removeGuest:o,updateGuest:i,editGuest:function(e){l({type:"EDIT_GUEST",payload:e})},clearEdit:function(){l({type:"CLEAR_EDIT"})},toggleFilter:function(){l({type:"TOGGLE_FILTER"})},searchGuest:function(e){l({type:"SEARCH_GUEST",payload:e})},clearSearch:function(){l({type:"CLEAR_SEARCH"})}}},e.children)},U=function(e,t){switch(t.type){case"SET_USER":return Object(p.a)({},e,{user:t.payload,userAuth:!0,errors:null});case"SUCCESS_REGISTER":case"SUCCESS_LOGIN":return localStorage.setItem("token",t.payload.token),Object(p.a)({},e,{userAuth:!0,errors:null});case"FAIL_REGISTER":case"FAIL_LOGIN":case"LOG_OUT":case"AUTH_ERROR":return localStorage.removeItem("token"),Object(p.a)({},e,{userAuth:null,errors:t.payload});case"SET_ERROR":return Object(p.a)({},e,{errors:t.payload});case"CLEAR_ERROR":return Object(p.a)({},e,{errors:null});default:return e}},x=function(e){e?w.a.defaults.headers.common["auth-token"]=e:delete w.a.defaults.headers.common["auth-token"]},A=function(e){var t=Object(n.useReducer)(U,{user:null,userAuth:null,errors:null}),a=Object(E.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(k.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&x(localStorage.token),e.prev=1,e.next=4,w.a.get("/auth");case 4:t=e.sent,l({type:"SET_USER",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"AUTH_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"Application/json"}},e.prev=1,e.next=4,w.a.post("/register",t,a);case 4:n=e.sent,l({type:"SUCCESS_REGISTER",payload:n.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:"FAIL_REGISTER",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"Application/json"}},e.prev=1,e.next=4,w.a.post("/auth",t,a);case 4:n=e.sent,l({type:"SUCCESS_LOGIN",payload:n.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:"FAIL_LOGIN",payload:e.t0.response.data});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(o.Provider,{value:{user:c.user,userAuth:c.userAuth,errors:c.errors,getUser:s,registerUser:u,loginUser:i,logout:function(){l({type:"LOG_OUT"})},setError:function(e){l({type:"SET_ERROR",payload:e})},clearError:function(){l({type:"CLEAR_ERROR"})}}},e.children)},D=a(32),L=function(e){var t=e.component,a=Object(D.a)(e,["component"]),c=Object(n.useContext)(o).userAuth;return r.a.createElement("div",null,r.a.createElement(u.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/login"})}})))};localStorage.token&&x(localStorage.token);var I=function(){return r.a.createElement(A,null,r.a.createElement(T,null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(u.d,null,r.a.createElement(L,{exact:!0,path:"/",component:O}),r.a.createElement(u.b,{path:"/register",component:S}),r.a.createElement(u.b,{path:"/login",component:j}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.026f99bb.chunk.js.map